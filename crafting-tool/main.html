<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title></title>
        <script src="scripts/require.js" data-main="scripts/crafting/crafting.js"></script>
        <link rel="stylesheet" type="text/css" href="css/main.css" />
        <link rel="stylesheet" type="text/css" href="css/estilos.css" />
    </head>
    <body ng-controller="CraftingToolCtrl">
        <div id="wrapper">
            <div id="nav-bar">
                <div class="float-left">
                    <a href="#">< Volver a la home</a> |
                    <a href="#">Videos de Orientación</a>
                </div>
                <div class="float-right">
                    <a href="#">GALERÍA</a> |
                    <a href="#">MIS OBJETOS</a> |
                    <a href="#">VER ESCENARIO</a>
                </div>
                <hr />
            </div>
            <div id="sidebar-left">
                <div id="newShapeSelector" ng-if="tool == 'select' || tool == 'rotate'"> 
                    <h3>01. Elegí la forma</h3>
                    <ul id="shape-selector">
                        <li ng-repeat="shape in shapes">
                            <a class="selected" href="#" onclick="return false;" ng-click="showCreateShape(shape);" ng-if=" new_shape_data.type == shape">
                                <img src="assets/icons/{{ shape }}.png" />
                            </a>
                            <a href="#" onclick="return false;" ng-click="showCreateShape(shape);" ng-if=" new_shape_data.type != shape">
                                <img src="assets/icons/{{ shape }}.png" />
                            </a>
                            <!--<button ng-click="showCreateShape(shape);">crear</button>-->
                        </li>
                    </ul>
                    <hr />
                </div> <!-- newShapeSelector -->
                <div id="shapesList" ng-if="tool == 'select' || tool == 'rotate'">
                    <h3>02. Completá los valores</h3>
                    <ul id="shapes-list">
                        <li>
                            <div ng-if="new_shape_data.type == 'circle'">
                                <img src="assets/icons/circle_selected.png" />
                                <input type="number" ng-model="new_shape_data.radius" />
                                <button ng-click="addCircle(new_shape_data.radius)">ok</button>
                            </div>
                            <div ng-if="new_shape_data.type == 'rectangle'">
                                <img src="assets/icons/rectangle_selected.png" />
                                <input type="number" ng-model="new_shape_data.width" />
                                <input type="number" ng-model="new_shape_data.height" />
                                <button ng-click="addRectangle(new_shape_data.width, new_shape_data.height)">ok</button>
                            </div>
                            <div ng-if="new_shape_data.type == 'square'">
                                <img src="assets/icons/square_selected.png" />
                                <input type="number" ng-model="new_shape_data.side" />
                                <button ng-click="addSquare(new_shape_data.side)">ok</button>
                            </div>
                            <div ng-if="new_shape_data.type == 'trapezoid'">
                                <img src="assets/icons/trapezoid_selected.png" />
                                <input type="number" ng-model="new_shape_data.base1" />
                                <input type="number" ng-model="new_shape_data.base2" />
                                <input type="number" ng-model="new_shape_data.height" />
                                <button ng-click="addTrapezoid(new_shape_data.base1, new_shape_data.base2, new_shape_data.height)">ok</button>
                            </div>
                        </li>
                        <li ng-repeat="shape in drawing.shapes">
                            <div ng-if="shape.type == 'circle'">
                                <img src="assets/icons/{{ shape.type }}_selected.png" />
                                Radio {{ shape.radius }}
                                <div ng-if="edit_shape_data.index == $index">
                                <input type="number" ng-model="edit_shape_data.radius" />
                                <button ng-click="saveShapeChanges();">ok</button>
                                </div>
                                <button ng-click="editShape($index);">edit</button>
                            </div>
                            <div ng-if="shape.type == 'square'">
                                <img src="assets/icons/{{ shape.type }}_selected.png" />
                                Lado {{ shape.side }}u
                                <div ng-if="edit_shape_data.index == $index">
                                <input type="number" ng-model="edit_shape_data.side" />
                                <button ng-click="saveShapeChanges();">ok</button>
                                </div>
                                <button ng-click="editShape($index);">edit</button>
                            </div>
                            <div ng-if="shape.type == 'rectangle'">
                                <img src="assets/icons/{{ shape.type }}_selected.png" />
                                Base {{ shape.width }}u Altura {{ shape.height }}u
                                <div ng-if="edit_shape_data.index == $index">
                                <input type="number" ng-model="edit_shape_data.width" />
                                <input type="number" ng-model="edit_shape_data.height" />
                                <button ng-click="saveShapeChanges();">ok</button>
                                </div>
                                <button ng-click="editShape($index);">edit</button>
                            </div>
                            <div ng-if="shape.type == 'trapezoid'">
                                <img src="assets/icons/{{ shape.type }}_selected.png" />
                                Base Menor {{ shape.base1 }}u Base Mayor {{ shape.base2 }}u Altura {{ shape.height }}u
                                <div ng-if="edit_shape_data.index == $index">
                                <input type="number" ng-model="edit_shape_data.base1" />
                                <input type="number" ng-model="edit_shape_data.base2" />
                                <input type="number" ng-model="edit_shape_data.height" />
                                <button ng-click="saveShapeChanges();">ok</button>
                                </div>
                                <button ng-click="editShape($index);">edit</button>
                            </div>
                        </li>
                    </ul>
                </div> <!-- shapesList -->
                <div id="decorationSelector" ng-if="tool == 'decorate'"> 
                    <div id="colorsList">
                        <h3>Colores</h3>
                        <ul>
                            <li ng-repeat="(decoration_id, decoration) in decoration_table" ng-if="decoration.type == 'color'">
                                <button ng-click="setSelectedDecoration(decoration_id)"><div style="width:30px; height:15px; background-color:{{ decoration.fill }}"></div></button>
                            </li>
                        </ul>
                    </div>
                    <div id="texturesList">
                        <h3>Texturas</h3>
                        <ul style=" list-style-type:none; white-space:nowrap; overflow-x:auto;">
                            <li style="display:inline;" ng-repeat="(decoration_id, decoration) in decoration_table" ng-if="decoration.type == 'pattern'">
                                <button ng-click="setSelectedDecoration(decoration_id)"><img src="{{ decoration.fill.src }}" /></button>
                            </li>
                        </ul>
                    </div>
                    <button ng-click="saveDecoration()">Guardar Cambios</button>
                    <button ng-click="setTool('select')">Cancelar</button>
                </div> <!-- decorationSelector -->
            </div> <!-- sidebar-left -->
            <div id="app-content">
                <div id="toolbar">
                    <ul>
                        <li>
                            <button ng-click="setTool('select');">Seleccionar</button>
                        </li>
                        <li>
                            <button ng-click="setTool('rotate')">Rotar</button>
                        </li>
                        <li>
                            <button ng-click="setTool('decorate')">Decorar</button>
                        </li>
                    </ul>
                </div>
                <div id="drawingArea">
                    <canvas id="canvas" width="500" height="500"></canvas>
                </div>
            </div>
            <hr />
        </div> <!-- WRAPPER -->
    </body>
</html>
